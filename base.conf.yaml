- defaults:
    link:
      create: true
      relink: true
      relative: true
      force: true
    shell:
      stdin: true
      stdout: true
      stderr: true

- clean: ['~']

- create:
    - ~/.config/nvim
    - ~/.vim/autoload
    - ~/.vim/bundle

- link:
    ~/.tmux.conf: base/.tmux.conf
    ~/.gitconfig: base/.gitconfig
    ~/.vimrc: base/.vimrc
    ~/.zshrc: base/.zshrc
    ~/.config/nvim/init.vim: base/init.vim
    ~/.editrc: base/.editrc

- shell:
  - [curl -LSso ~/.vim/autoload/pathogen.vim https://tpo.pe/pathogen.vim]
  - [test -d ~/.oh-my-zsh || /bin/sh -c "$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"]
  - [command -v brew >/dev/null 2>&1 || /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"]
  - [zstyle ':omz:update' mode auto]
  - [zstyle ':omz:update' frequency 1]
  - [zstyle ':omz:update' verbose silent]
  - [zsh -c 'source ~/.zshrc; omz update']
  - [brew update]
  - [brew upgrade]
  - [brew install bgpdump bgpq4 clang-format docker-compose git jq mtr neovim pre-commit python@3.12 rust shellcheck shfmt socat tcpdump telnet tmux vim wget]
  - [chsh -s /bin/zsh]
